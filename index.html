<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FTetris by SethDracam</title>
</head>
<body>
<script src="target/scala-2.12/functionaltetris-fastopt.js"></script>
<script> function getHighscore() {
    if (!document.cookie) return 0;
    const hs = document.cookie.split("highscore=")[1];
    return hs.substr(0, hs.length);
}</script>
<script> function startGame() {
    FTetris.startGame(
        document.getElementById("mainCanv"),
        function (pts) {
            if (pts > getHighscore()) {
                document.cookie = "highscore="+pts+";";
                document.getElementById("highscore").innerText = "Highscore: " + pts.toString();
            }
            document.getElementById("score").innerText = "Score: " + pts.toString();
        },
        function() {
            alert("GAME OVER");
        }
    );
}</script>
<div style="margin: auto; width: 300px;">
    <div style="display:flex; justify-content:space-around;">
        <div><button onclick="startGame()" style="margin: auto;">START GAME</button></div>
        <div><p id="score" style="font-size: 14px; margin: auto;">Score: 0</p></div>
        <div><p id="highscore" style="font-size: 14px; margin: auto;">Highscore: 0</p></div>
    </div>
    <hr/>
    <canvas width="300px" height="600px" id="mainCanv" style="margin:auto; border:2px solid #000000;">
        Your browser must support the html5 canvas. Sorry, bro.
    </canvas>
</div>
<script>document.getElementById("highscore").innerText = "Highscore: " + getHighscore().toString();</script>
</body>
</html>